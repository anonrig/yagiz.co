---
import { getCollection, getEntry } from 'astro:content'
import MainLayout from '@/layouts/main.astro'
import Container from '@/components/ui/container.astro';
import Page from "@/components/page.astro";

export async function getStaticPaths() {
  const pages = await getCollection('page')
  return pages.map(page => ({ params: { page: page.slug } }))
}

interface Props {
  page: string
}
const { page } = Astro.params
const entry = await getEntry('page', page)
const site_title = entry.data.title
const site_description = entry.data.description
---
<MainLayout title={site_title} description={site_description}>
  <Container className="-mt-8">
  <Page entry={entry} />
  </Container>
</MainLayout>
